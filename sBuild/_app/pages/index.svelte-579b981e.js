import{C as te,J as ee,K as ue,S as ne,i as re,s as le,e as m,t as T,k as Y,c as h,a as _,g as M,d,n as O,b as f,f as A,H as i,L as Q,I,M as Ee,N as S,O as R,P as je,Q as we,R as oe,T as De,h as Fe,U as Ne,V as xe,W as He,l as Le,X as Pe,x as G,u as X,Y as Se,j as de,m as fe,o as me,Z as Ve,v as he,r as qe,w as Ae,_ as Re,$ as We,a0 as Ze}from"../chunks/vendor-75fca109.js";import{s as Ke,r as Ge}from"../chunks/apiSender-e6d30a52.js";import{r as Je}from"../chunks/singletons-12a22614.js";const V=te(1),se=te(!1),ae=te(!1);function Qe(r){const e=t=>{r&&typeof r.select=="function"&&r.select()};return r.addEventListener("focus",e),{destroy(){r.removeEventListener("focus",e)}}}function Xe(r){const e=t=>{t.key==="Escape"&&r&&typeof r.blur=="function"&&r.blur()};return r.addEventListener("keydown",e),{destroy(){r.removeEventListener("keydown",e)}}}const Te="YYYY-MM-DDTHH:mm";let Me=new Date,_e;const ze=r=>_e=ee(r).format(Te),et=r=>Me=ee(r,Te).toDate();ze(Me);et(_e);const Ie={No:1,caffeineMg:1,method:"1",dttm:_e},tt=[],x=te(tt);x.update(r=>(r.push(Ie),r));const Ue="YYYY-MM-DDTHH:mm";let Ye=new Date,ie;const nt=r=>ie=ee(r).format(Ue),rt=r=>Ye=ee(r,Ue).toDate();nt(Ye);rt(ie);function lt(){const r=ue(V);if(r===1)return x.update(e=>(e.push(Ie),e)),x;{const e={No:r,method:"1",caffeineMg:1,dttm:ie.toString()};x.update(t=>(t.push(e),t))}return console.log(ie),console.log(ue(x)),x}function ot(r){let e,t,n,l,s,o,u,a,c,b,p;return{c(){e=m("div"),t=m("div"),n=m("button"),l=T("+1 drink :)"),s=Y(),o=m("button"),u=T("-1 drink :)"),a=Y(),c=m("br"),this.h()},l(E){e=h(E,"DIV",{});var D=_(e);t=h(D,"DIV",{class:!0});var w=_(t);n=h(w,"BUTTON",{class:!0});var U=_(n);l=M(U,"+1 drink :)"),U.forEach(d),s=O(w),o=h(w,"BUTTON",{class:!0});var C=_(o);u=M(C,"-1 drink :)"),C.forEach(d),w.forEach(d),a=O(D),c=h(D,"BR",{}),D.forEach(d),this.h()},h(){f(n,"class","countUp bg-primary rounded-lg text-center px-4 py-2 m-5 shadow-md svelte-1jwc1he"),f(o,"class","countUp bg-primary rounded-lg text-center px-4 py-2 m-5 shadow-md svelte-1jwc1he"),f(t,"class","flex flex-wrap justify-center items-baseline text-gray-700")},m(E,D){A(E,e,D),i(e,t),i(t,n),i(n,l),i(t,s),i(t,o),i(o,u),i(e,a),i(e,c),b||(p=[Q(n,"click",r[2]),Q(o,"click",r[3])],b=!0)},p:I,i:I,o:I,d(E){E&&d(e),b=!1,Ee(p)}}}function st(r,e,t){let n,l,s;S(r,V,p=>t(4,n=p)),S(r,ae,p=>t(5,l=p)),S(r,se,p=>t(6,s=p));function o(){return n>=10?(R(se,s=!0,s),R(V,n=10,n)):(R(se,s=!1,s),R(V,n+=1,n),lt())}function u(){return console.log(V),n<=1?(R(ae,l=!0,l),R(V,n=1,n)):(R(ae,l=!1,l),R(V,n-=1,n),a())}function a(){x.update(p=>(p.pop(),p))}return[o,u,()=>o(),()=>u()]}class at extends ne{constructor(e){super();re(this,e,st,ot,le,{})}}function it(r){let e,t,n=r[0].No+"",l,s,o,u,a,c,b,p,E,D,w,U,C,$,W,g,H,Z,q,J,P,k,v,F,L,j,K,z;return{c(){e=m("div"),t=m("li"),l=T(n),s=T(` :

		`),o=m("label"),u=T(Oe),a=Y(),c=m("select"),b=m("option"),p=T("1"),E=m("option"),D=T("2"),U=Y(),C=m("label"),$=T(Ce),W=Y(),g=m("input"),Z=Y(),q=m("label"),J=T("mg,"),P=Y(),k=m("label"),v=T("Date time:"),F=Y(),L=m("input"),this.h()},l(y){e=h(y,"DIV",{});var B=_(e);t=h(B,"LI",{class:!0});var N=_(t);l=M(N,n),s=M(N,` :

		`),o=h(N,"LABEL",{});var pe=_(o);u=M(pe,Oe),pe.forEach(d),a=O(N),c=h(N,"SELECT",{id:!0,name:!0,class:!0});var ce=_(c);b=h(ce,"OPTION",{});var ve=_(b);p=M(ve,"1"),ve.forEach(d),E=h(ce,"OPTION",{});var be=_(E);D=M(be,"2"),be.forEach(d),ce.forEach(d),U=O(N),C=h(N,"LABEL",{});var ge=_(C);$=M(ge,Ce),ge.forEach(d),W=O(N),g=h(N,"INPUT",{id:!0,name:!0,type:!0,min:!0,max:!0,class:!0}),Z=O(N),q=h(N,"LABEL",{});var ke=_(q);J=M(ke,"mg,"),ke.forEach(d),P=O(N),k=h(N,"LABEL",{});var ye=_(k);v=M(ye,"Date time:"),ye.forEach(d),F=O(N),L=h(N,"INPUT",{id:!0,name:!0,type:!0,class:!0}),N.forEach(d),B.forEach(d),this.h()},h(){b.__value="1",b.value=b.__value,E.__value="2",E.value=E.__value,f(c,"id",w=r[0].No.toString()),f(c,"name","method"),c.required=!0,f(c,"class","text-gray-700 rounded-lg bg-white"),r[0].method===void 0&&je(()=>r[3].call(c)),f(g,"id",H=""+(r[0].No+"-caffeine")),f(g,"name","caffeine"),f(g,"type","number"),f(g,"min","1"),f(g,"max","1000"),g.required=!0,f(g,"class","text-gray-700 rounded-lg bg-white"),f(L,"id",j=""+(r[0].No+"-time")),f(L,"name","datetime"),f(L,"type","datetime-local"),L.required=!0,f(L,"class","bg-white border-white text-gray-700 rounded-lg"),f(t,"class","svelte-riqbsc")},m(y,B){A(y,e,B),i(e,t),i(t,l),i(t,s),i(t,o),i(o,u),i(t,a),i(t,c),i(c,b),i(b,p),i(c,E),i(E,D),we(c,r[0].method),i(t,U),i(t,C),i(C,$),i(t,W),i(t,g),oe(g,r[0].caffeineMg),i(t,Z),i(t,q),i(q,J),i(t,P),i(t,k),i(k,v),i(t,F),i(t,L),oe(L,r[0].dttm),K||(z=[Q(c,"change",r[3]),De(Qe.call(null,g)),De(Xe.call(null,g)),Q(g,"input",r[4]),Q(L,"input",r[5])],K=!0)},p(y,[B]){B&1&&n!==(n=y[0].No+"")&&Fe(l,n),B&1&&w!==(w=y[0].No.toString())&&f(c,"id",w),B&1&&we(c,y[0].method),B&1&&H!==(H=""+(y[0].No+"-caffeine"))&&f(g,"id",H),B&1&&Ne(g.value)!==y[0].caffeineMg&&oe(g,y[0].caffeineMg),B&1&&j!==(j=""+(y[0].No+"-time"))&&f(L,"id",j),B&1&&oe(L,y[0].dttm)},i:I,o:I,d(y){y&&d(e),K=!1,Ee(z)}}}let Oe="Method: ",Ce="Caffeine: ";function ct(r,e,t){let{drinkForms:n}=e,{index:l}=e,{theForm:s}=e;function o(){s.method=xe(this),t(0,s)}function u(){s.caffeineMg=Ne(this.value),t(0,s)}function a(){s.dttm=this.value,t(0,s)}return r.$$set=c=>{"drinkForms"in c&&t(1,n=c.drinkForms),"index"in c&&t(2,l=c.index),"theForm"in c&&t(0,s=c.theForm)},[s,n,l,o,u,a]}class ut extends ne{constructor(e){super();re(this,e,ct,it,le,{drinkForms:1,index:2,theForm:0})}}function Be(r,e,t){const n=r.slice();return n[5]=e[t],n[7]=t,n}function dt(r){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function ft(r){let e,t,n=r[0],l=[];for(let o=0;o<n.length;o+=1)l[o]=$e(Be(r,n,o));const s=o=>X(l[o],1,1,()=>{l[o]=null});return{c(){e=m("ul");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=h(o,"UL",{class:!0});var u=_(e);for(let a=0;a<l.length;a+=1)l[a].l(u);u.forEach(d),this.h()},h(){f(e,"class","svelte-riqbsc")},m(o,u){A(o,e,u);for(let a=0;a<l.length;a+=1)l[a].m(e,null);t=!0},p(o,u){if(u&1){n=o[0];let a;for(a=0;a<n.length;a+=1){const c=Be(o,n,a);l[a]?(l[a].p(c,u),G(l[a],1)):(l[a]=$e(c),l[a].c(),G(l[a],1),l[a].m(e,null))}for(qe(),a=n.length;a<l.length;a+=1)s(a);Ae()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)G(l[u]);t=!0}},o(o){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)X(l[u]);t=!1},d(o){o&&d(e),Re(l,o)}}}function $e(r){let e,t,n;function l(o){r[2](o)}let s={theForm:r[5],index:r[7]};return r[0]!==void 0&&(s.$drinkForms=r[0]),e=new ut({props:s}),We.push(()=>Ze(e,"$drinkForms",l)),{c(){de(e.$$.fragment)},l(o){fe(e.$$.fragment,o)},m(o,u){me(e,o,u),n=!0},p(o,u){const a={};u&1&&(a.theForm=o[5]),!t&&u&1&&(t=!0,a.$drinkForms=o[0],Ve(()=>t=!1)),e.$set(a)},i(o){n||(G(e.$$.fragment,o),n=!0)},o(o){X(e.$$.fragment,o),n=!1},d(o){he(e,o)}}}function mt(r){let e,t,n;return{c(){e=m("div"),t=m("p"),n=T("Loading....")},l(l){e=h(l,"DIV",{});var s=_(e);t=h(s,"P",{});var o=_(t);n=M(o,"Loading...."),o.forEach(d),s.forEach(d)},m(l,s){A(l,e,s),i(e,t),i(t,n)},p:I,i:I,o:I,d(l){l&&d(e)}}}function ht(r){let e,t,n={ctx:r,current:null,token:null,hasCatch:!1,pending:mt,then:ft,catch:dt,blocks:[,,,]};return He(r[1](),n),{c(){e=Le(),n.block.c()},l(l){e=Le(),n.block.l(l)},m(l,s){A(l,e,s),n.block.m(l,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(l,[s]){r=l,Pe(n,r,s)},i(l){t||(G(n.block),t=!0)},o(l){for(let s=0;s<3;s+=1){const o=n.blocks[s];X(o)}t=!1},d(l){l&&d(e),n.block.d(l),n.token=null,n=null}}}function _t(r,e,t){let n,l,s;S(r,V,a=>t(4,l=a)),S(r,x,a=>t(0,s=a));async function o(){n=!1,s.length===l&&(n=!0),n&&await n,await Se()}function u(a){s=a,x.set(s)}return n=!1,[s,o,u]}class pt extends ne{constructor(e){super();re(this,e,_t,ht,le,{})}}const vt=Je,bt=gt;async function gt(r,e){return vt.goto(r,e,[])}function kt(r){let e,t;return{c(){e=m("p"),t=T("The drink number must be greater than 0! :)"),this.h()},l(n){e=h(n,"P",{class:!0});var l=_(e);t=M(l,"The drink number must be greater than 0! :)"),l.forEach(d),this.h()},h(){f(e,"class","maxWarning svelte-18bhp9v")},m(n,l){A(n,e,l),i(e,t)},d(n){n&&d(e)}}}function yt(r){let e,t;return{c(){e=m("p"),t=T("You could calculate only 10 drinks at once! :)"),this.h()},l(n){e=h(n,"P",{class:!0});var l=_(e);t=M(l,"You could calculate only 10 drinks at once! :)"),l.forEach(d),this.h()},h(){f(e,"class","maxWarning svelte-18bhp9v")},m(n,l){A(n,e,l),i(e,t)},d(n){n&&d(e)}}}function Et(r){let e,t,n,l,s,o,u,a,c,b,p,E,D,w,U,C,$,W,g,H,Z,q;function J(v,F){if(v[1])return yt;if(v[2])return kt}let P=J(r),k=P&&P(r);return p=new at({}),U=new pt({}),{c(){e=m("main"),t=m("div"),n=Y(),l=m("div"),s=m("div"),o=m("div"),u=T("How many bottles did you drink? : "),a=T(r[0]),c=Y(),k&&k.c(),b=Y(),de(p.$$.fragment),E=Y(),D=m("form"),w=m("ul"),de(U.$$.fragment),C=Y(),$=m("input"),W=Y(),g=m("br"),this.h()},l(v){e=h(v,"MAIN",{class:!0});var F=_(e);t=h(F,"DIV",{class:!0}),_(t).forEach(d),n=O(F),l=h(F,"DIV",{class:!0});var L=_(l);s=h(L,"DIV",{class:!0});var j=_(s);o=h(j,"DIV",{class:!0});var K=_(o);u=M(K,"How many bottles did you drink? : "),a=M(K,r[0]),K.forEach(d),c=O(j),k&&k.l(j),b=O(j),fe(p.$$.fragment,j),j.forEach(d),L.forEach(d),E=O(F),D=h(F,"FORM",{class:!0});var z=_(D);w=h(z,"UL",{class:!0});var y=_(w);fe(U.$$.fragment,y),C=O(y),$=h(y,"INPUT",{type:!0,class:!0}),y.forEach(d),z.forEach(d),W=O(F),g=h(F,"BR",{}),F.forEach(d),this.h()},h(){f(t,"class","backImage svelte-18bhp9v"),f(o,"class","countNum text-xl2 text-gray-100 svelte-18bhp9v"),f(s,"class","flex flex-col justify-center"),f(l,"class","inputForm svelte-18bhp9v"),f($,"type","submit"),f($,"class","submit px-4 py-2 bg-primary border-white rounded-lg text-gray-700 svelte-18bhp9v"),$.value="Submit",f(w,"class","svelte-18bhp9v"),f(D,"class","text-gray-100"),f(e,"class","svelte-18bhp9v")},m(v,F){A(v,e,F),i(e,t),i(e,n),i(e,l),i(l,s),i(s,o),i(o,u),i(o,a),i(s,c),k&&k.m(s,null),i(s,b),me(p,s,null),i(e,E),i(e,D),i(D,w),me(U,w,null),i(w,C),i(w,$),i(e,W),i(e,g),H=!0,Z||(q=Q($,"submit",r[3]),Z=!0)},p(v,[F]){(!H||F&1)&&Fe(a,v[0]),P!==(P=J(v))&&(k&&k.d(1),k=P&&P(v),k&&(k.c(),k.m(s,b)))},i(v){H||(G(p.$$.fragment,v),G(U.$$.fragment,v),H=!0)},o(v){X(p.$$.fragment,v),X(U.$$.fragment,v),H=!1},d(v){v&&d(e),k&&k.d(),he(p),he(U),Z=!1,q()}}}function wt(r,e,t){let n,l,s,o,u;S(r,x,c=>t(4,n=c)),S(r,Ge,c=>t(5,l=c)),S(r,V,c=>t(0,s=c)),S(r,se,c=>t(1,o=c)),S(r,ae,c=>t(2,u=c));async function a(){for(let c=0;c<n.length;c++){const b=n[c];b.dttm=ee(b.dttm).format("YYYY-MM-DDTHH:mm:ssZ[Z]")}console.log(ue(x)),await Ke(n),l?bt("/result"):console.error("Bad request, try it again!")}return[s,o,u,a]}class Lt extends ne{constructor(e){super();re(this,e,wt,Et,le,{})}}export{Lt as default};
